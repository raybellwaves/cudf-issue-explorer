{"assignees":[],"author":{"id":"MDQ6VXNlcjExMjY1Mw==","is_bot":false,"login":"mattf","name":"Matthew Farrellee"},"body":"**Is your feature request related to a problem? Please describe.**\r\nrewriting `pandas` code with `import cudf as pd`\r\n\r\n**Describe the solution you'd like**\r\n```\r\n>>> import pandas as pd\r\n>>> import cudf\r\n>>> cudf.__version__\r\n'22.10.01+2.gca9a422da9' <- rapidsai/rapidsai-nightly:cuda11.5-runtime-centos7-py3.9 (3b7d5d24867a) on 6 dec 2022\r\n>>> df = cudf.DataFrame({'a': [1,2,3], 'b': [3.0,2.0,1.0]})\r\n>>> df.to_pandas().eval('a + b')\r\n0    4.0\r\n1    4.0\r\n2    4.0\r\ndtype: float64\r\n>>> df.eval('a + b')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/opt/conda/envs/rapids/lib/python3.9/contextlib.py\", line 79, in inner\r\n    return func(*args, **kwds)\r\n  File \"/opt/conda/envs/rapids/lib/python3.9/site-packages/cudf/core/dataframe.py\", line 6766, in eval\r\n    None: libcudf.transform.compute_column(\r\n  File \"transform.pyx\", line 190, in cudf._lib.transform.compute_column\r\nRuntimeError: cuDF failure at: /workspace/.conda-bld/work/cpp/src/ast/expression_parser.cpp:149: An AST expression was provided non-matching operand types.\r\n```\r\n\r\nsame behavior as `pandas`\r\n","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5P3RbB","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"[This is a known and documented behavior, we do not currently support automatic casting of types](https://github.com/rapidsai/cudf/blob/branch-23.02/python/cudf/cudf/core/dataframe.py#L6996). I just realized that the documentation for `eval` was not being published, [I've opened a PR to fix that](https://github.com/rapidsai/cudf/pull/12322).","createdAt":"2022-12-06T19:28:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/12319#issuecomment-1339889345","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5P4tPa","author":{"login":"mattf"},"authorAssociation":"NONE","body":"update to FEA from BUG","createdAt":"2022-12-07T01:54:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/12319#issuecomment-1340265434","viewerDidAuthor":false}],"createdAt":"2022-12-06T18:09:14Z","id":"I_kwDOBWUGps5YM-7g","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NTk=","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwxMDEzOTg3MzUy","name":"0 - Backlog","description":"In queue waiting for assignment","color":"d4c5f9"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":null,"number":12319,"projectCards":[{"project":{"name":"Bug Squashing"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] AST expression was provided non-matching operand types","updatedAt":"2023-06-06T03:42:26Z","url":"https://github.com/rapidsai/cudf/issues/12319"}
