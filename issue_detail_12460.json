{"assignees":[],"author":{"id":"MDQ6VXNlcjM1NjEzOTQ1","is_bot":false,"login":"sokol11","name":""},"body":"Hi. Pip installation on Google Colab with `!pip install cudf-cu11 --extra-index-url=https://pypi.ngc.nvidia.com` seems to work but results in missing functionality. For example, trying to compute column correlations in a dataframe with a `min_periods` argument specified raises `NotImplementedError: Unsupported argument 'min_periods'`. Other general functionality seems to be missing as well with various errors raised. Interestingly, everything seemed to be working yesterday. Any thoughts on what could be going on? Having a working pip installation on colab would be a game changer!","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5RqFqO","author":{"login":"beckernick"},"authorAssociation":"MEMBER","body":"The 22.12 pip packages provide cuDF as of version 22.12. The `DataFrame.corr` option `min_periods` is [not yet supported,](https://github.com/rapidsai/cudf/blob/8a1ff584e39084b588b82a4d8a5f909bd7451916/python/cudf/cudf/core/dataframe.py#L6495-L6496), which is why you're see a NotImplementedError. I'm going to convert this issue into a feature request for `min_periods`.\r\n\r\nWould you be able to file separate feature requests for other functionality that you tried to use but an into errors?","createdAt":"2023-01-03T16:42:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/12460#issuecomment-1369987726","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5RrWh9","author":{"login":"sokol11"},"authorAssociation":"NONE","body":"@beckernick yes, thank you and appreciate it! One thing I found confusing is the documentation here https://docs.rapids.ai/api/cudf/stable/api_docs/dataframe.html lists a bunch of methods that are not yet supported, e.g., itertuples, iterrows, so the documentation seems a bit aspirational. I basically have a very large df, where I need to calculate the correlating matrix and then iterate over it. Interestingly, I also found some discussion online that mentions iterative calculations like iterrows are much faster on a CPU, so it doesn't really make sense to implement on a GPU. I think I might try the iterative part on a CPU again but would be curious to know if there're benefits to a GPU implementation, especially since it's part of the documentation already","createdAt":"2023-01-03T23:13:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/12460#issuecomment-1370318973","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5Rt1Ux","author":{"login":"shwina"},"authorAssociation":"CONTRIBUTOR","body":"Thanks for pointing this out, @sokol11 -- you're right that we incorrectly include `itertuples` and `iterrows` (and possibly a handful of other methods) as part of our API docs when in reality, we don't support those. I think the problem is that we _do_ have those methods defined, but all they do is raise a `NotImplementedError`. FYI @galipremsagar: we need to tackle this as part of our doc update effort","createdAt":"2023-01-04T14:05:04Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/12460#issuecomment-1370969393","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5RuatJ","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"Also @sokol11 to address this point of yours:\r\n> Interestingly, I also found some discussion online that mentions iterative calculations like iterrows are much faster on a CPU, so it doesn't really make sense to implement on a GPU. \r\n\r\nThis is exactly correct, and it is _why_ we define those methods are raising a `NotImplementedError`. We want to provide users a clear indication that working with cudf objects in this way is bad for performance. It's worth noting that even when using pandas there are usually much more efficient ways to get the answer you want. Here's an (admittedly trivial) example with just pandas\r\n\r\n```\r\nIn [16]: import pandas as pd\r\n\r\nIn [17]: import numpy as np\r\n\r\nIn [18]: df = pd.DataFrame({'a': np.random.rand(10000)})\r\n\r\nIn [19]: %%timeit\r\n    ...: total = 0\r\n    ...: for idx, values in df.iterrows():\r\n    ...:     total += values['a']\r\n    ...: \r\n202 ms ± 760 µs per loop (mean ± std. dev. of 7 runs, 1 loop each)\r\n\r\nIn [20]: %%timeit\r\n    ...: df['a'].sum()\r\n    ...: \r\n    ...: \r\n34.6 µs ± 122 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)\r\n```\r\n\r\nIf you are using cudf for performance and you find yourself reaching for methods like `iterrows`, it's usually worth reconsidering your approach to see if there's a way to avoid iteration altogether.","createdAt":"2023-01-04T16:08:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/12460#issuecomment-1371122505","viewerDidAuthor":false}],"createdAt":"2023-01-01T12:08:14Z","id":"I_kwDOBWUGps5aVPwn","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMTM5NzQwNjY2","name":"libcudf","description":"Affects libcudf (C++/CUDA) code.","color":"c5def5"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":null,"number":12460,"projectCards":[{"project":{"name":"Bug Squashing"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Support for min_periods in DataFrame correlation","updatedAt":"2023-01-09T23:02:56Z","url":"https://github.com/rapidsai/cudf/issues/12460"}
