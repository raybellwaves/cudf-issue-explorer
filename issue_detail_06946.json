{"assignees":[],"author":{"id":"MDQ6VXNlcjUzNzk2MDk5","is_bot":false,"login":"brandon-b-miller","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\n**EDITED 12/16/2022**\r\nAs of pandas 1.5, [the `na_sentinel` parameter is deprecated in favor of a boolean flag `use_na_sentinel`](https://github.com/pandas-dev/pandas/issues/46910). We need to update cudf to match the new behavior to retain compatibility with pandas 2.0.\r\n\r\nThe rest of this issue's text is preserved for the record, but is no longer relevant.\r\n\r\n**ORIGINAL ISSUE INTENT**\r\n\r\nWhen using `cudf.Series.factorize` with `na_sentinel=None` an error is encountered, whereas pandas supports this option.  \r\n\r\n```\r\n  File \"/cudf/python/cudf/cudf/core/series.py\", line 2517, in label_encoding                                                                                                                 \r\n    dtype = min_scalar_type(max(len(cats), na_sentinel), 8)                                                                                                                                                          \r\nTypeError: '>' not supported between instances of 'NoneType' and 'int'\r\n```\r\n\r\n**Describe the solution you'd like**\r\nAs described [here](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.factorize.html) When `None` is passed, any nans in the input data should result in `nan` being part of the set of uniques returned by the function. In cuDF this likely reads the same except substitute true `<NA>`. \r\n\r\n\r\n**Describe alternatives you've considered**\r\n\r\n**Additional context**\r\nhttps://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.factorize.html","closed":false,"closedAt":null,"comments":[{"id":"MDEyOklzc3VlQ29tbWVudDc4MDA5Mzg5OA==","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been marked stale due to no recent activity in the past 30d. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be marked rotten if there is no activity in the next 60d.","createdAt":"2021-02-16T20:20:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/6946#issuecomment-780093898","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg0MjYzODM5Nw==","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.","createdAt":"2021-05-17T21:04:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/6946#issuecomment-842638397","viewerDidAuthor":false}],"createdAt":"2020-12-08T21:20:36Z","id":"MDU6SXNzdWU3NTk3OTA1MjY=","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":null,"number":6946,"projectCards":[{"project":{"name":"Feature Planning"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Support `use_na_sentinel` in factorize","updatedAt":"2024-02-23T18:43:19Z","url":"https://github.com/rapidsai/cudf/issues/6946"}
