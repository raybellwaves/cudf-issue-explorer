{"assignees":[{"id":"MDQ6VXNlcjM5NDM3NjE=","login":"bdice","name":"Bradley Dice"}],"author":{"id":"MDQ6VXNlcjM5NDM3NjE=","is_bot":false,"login":"bdice","name":"Bradley Dice"},"body":"Currently RAPIDS is built with CCCL 2.2. This issue lists tasks that we can follow up on once we have upgraded to CCCL 2.3 or 2.4. (We haven't decided on an exact timeline for updating, so RAPIDS could target CCCL 2.3 or 2.4 depending on that timing.)\r\n\r\n### CCCL 2.3\r\n- If we upgrade to 2.3, we will need a patch for https://github.com/NVIDIA/cccl/pull/1499 which will be fixed in 2.4. \r\n- CCCL 2.3 performance may be a motivating factor:\r\n  - Up to 60% performance improvements of `cub::DeviceSelect::UniqueByKey`, `cub::DeviceScan::ExclusiveSumByKey`, and `cub::DeviceReduce::ReduceByKey` on A100. `cub::DeviceSegmentedReduce` now supports 64-bit indexing.\r\n- Replace device uses of `thrust::optional` with `cuda::std::optional`\r\n  - https://github.com/rapidsai/cudf/pull/15091#issuecomment-2004286213\r\n\r\n### CCCL 2.4\r\n- See notes on patch above\r\n\r\n### Additional Context\r\n- https://github.com/NVIDIA/cccl/releases\r\n- Test PR: #14704\r\n\r\n\r\ncc: @miscco @jrhemstad @robertmaynard ","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps55LSln","author":{"login":"robertmaynard"},"authorAssociation":"CONTRIBUTOR","body":"CUDA 12.4 ships with CCCL 2.3. \r\n\r\nThe CCCL support matrix states that CCCL 2.2 is officially untested/unsupported when using 12.4+, so moving to a newer version will be needed.","createdAt":"2024-04-02T20:04:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/15327#issuecomment-2033002855","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps56u2cU","author":{"login":"robertmaynard"},"authorAssociation":"CONTRIBUTOR","body":"CCCL 2.3 also requires changes to projects due to `thrust::tuple` constructor changes.","createdAt":"2024-04-16T13:30:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/15327#issuecomment-2059101972","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps58pkz1","author":{"login":"bdice"},"authorAssociation":"CONTRIBUTOR","body":"We can also tackle https://github.com/NVIDIA/cuCollections/issues/469 after this migration is complete.","createdAt":"2024-05-02T18:52:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/15327#issuecomment-2091273461","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps599wsy","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"Are we now considering going straight to 12.5? See https://github.com/rapidsai/rapids-cmake/pull/607 (CC @trxcllnt).","createdAt":"2024-05-15T19:50:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/15327#issuecomment-2113342258","viewerDidAuthor":false}],"createdAt":"2024-03-18T15:57:37Z","id":"I_kwDOBWUGps6CsKCC","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":15327,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Update to CCCL 2.3 or 2.4","updatedAt":"2024-05-15T19:50:17Z","url":"https://github.com/rapidsai/cudf/issues/15327"}
