{"assignees":[{"id":"MDQ6VXNlcjExMjY5ODE=","login":"wence-","name":"Lawrence Mitchell"}],"author":{"id":"MDQ6VXNlcjExMjY5ODE=","is_bot":false,"login":"wence-","name":"Lawrence Mitchell"},"body":"**Describe the bug**\r\n\r\nWhen performing `loc` indexing of a `DataFrame`, if one asks for a missing key, pandas raises a `KeyError`. In constrast,  cudf only does so if none of the requested keys are in the index. If at least one requested key is present then the subsetted data frame with that key is returned and the missing keys are silently dropped. \r\n\r\nSeries `loc` indexing does the right thing here and raises `KeyError` if any keys are missing.\r\n\r\n**Steps/Code to reproduce bug**\r\n\r\n```python\r\nimport pandas as pd\r\nimport cudf\r\n\r\n# same failure with rangeindex too.\r\ndf = pd.DataFrame({\"A\": range(5)}, index=list(range(5)))\r\ncdf = cudf.from_pandas(df)\r\n\r\ndf.loc[[0, 5]] # 5 is missing, raises KeyError\r\n\r\ncdf.loc[[0, 5]]\r\n#    A\r\n# 0  0\r\n```\r\n\r\n**Expected behavior**\r\n\r\nShould match pandas behaviour and raise `KeyError`.","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5clVir","author":{"login":"wence-"},"authorAssociation":"CONTRIBUTOR","body":"TBF, pandas used to behave like this too (but it's been removed for a while).","createdAt":"2023-05-18T16:13:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/13379#issuecomment-1553291435","viewerDidAuthor":false}],"createdAt":"2023-05-18T10:13:54Z","id":"I_kwDOBWUGps5mPpEP","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NTk=","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":{"number":5,"title":"Pandas API Alignment and Coverage","description":"","dueOn":null},"number":13379,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[BUG] `loc`-based indexing of DataFrames silently discards missing keys if at least one key is present in indexer","updatedAt":"2023-05-18T16:13:36Z","url":"https://github.com/rapidsai/cudf/issues/13379"}
