{"assignees":[],"author":{"id":"MDQ6VXNlcjc0MTY5MzU=","is_bot":false,"login":"ttnghia","name":"Nghia Truong"},"body":"Currently, there has been a number of inconsistency issues in `cudf` directory and file structures. Below are some examples:\r\n\r\n * The current directory structures of `cpp/include`, `cpp/src`, `cpp/tests` and `cpp/benchmarks` are inconsistent. For instance, there are tests in `tests/grouped_rolling` which test `grouped_rolling_window` corresponding to `src/rolling`; or unit tests in `tests/collect_list` and `tests/lead_lag` that are all tests for `cpp/aggregation`.\r\n * There are `tests/utilities` and `tests/utilities_test` which have confusing names. \r\n * There are tests in `tests/column/colum_view_test.cpp` which are actually testing `logical_cast` (or `bit_cast`), so they should be put together with the tests in `tests/unary/cast_tests.cpp`.\r\n * File name/extensions are inconsistent. For example, many unit tests in the `tests/<some test name>` are written in both `.cu` and `.cpp` extensions. Of course, `.cu` file may be required here, but having the tests written in two file extensions at the same time make things look messy.\r\n\r\nAnd many other similar issues that are not mentioned here. I would recommend to refactor and enforce more consistency.","closed":false,"closedAt":null,"comments":[{"id":"MDEyOklzc3VlQ29tbWVudDc4NjAyMTgzNg==","author":{"login":"jrhemstad"},"authorAssociation":"CONTRIBUTOR","body":"It looks like the main issue is that `tests/grouped_rolling` and `tests/collect_list` should be moved under `tests/rolling`? \r\n\r\n> There are tests in tests/column/colum_view_test.cpp which are actually testing logical_cast (or bit_cast), so they should be put together with the tests in tests/unary/cast_tests.cpp.\r\n\r\nTechnically, `tests/unary` are testing the `cudf::unary_op` functionality. I'm not sure if `bit_cast` belongs there. \r\n\r\n> There are tests/utilities and tests/utilities_test which have confusing names.\r\n\r\nCan you elaborate? The former are test utilities and the latter are tests _of_ the utilities. \r\n\r\n> File name/extensions are inconsistent. For example, many unit tests in the tests/<some test name> are written in both .cu and .cpp extensions. Of course, .cu file may be required here, but having the tests written in two file extensions at the same time make things look messy.\r\n\r\nThis one doesn't sound like an issue to me. We prefer to write tests as `.cpp` files when we can as they usually compile faster, but sometimes they need to be `.cu` if they have device code.","createdAt":"2021-02-25T16:17:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/7447#issuecomment-786021836","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc4NjA3ODE1Ng==","author":{"login":"ttnghia"},"authorAssociation":"CONTRIBUTOR","body":"> > There are tests/utilities and tests/utilities_test which have confusing names.\r\n> \r\n> Can you elaborate? The former are test utilities and the latter are tests _of_ the utilities.\r\n\r\nTheir names already expose confusion. Which one is \"utilities\" of the test suite (utilities or utilities_test)? And which one is the unit tests for `src/utilities` (`tests/utilities`?)??? \r\n\r\nThis is just one example. I would like to rename the folders that contain implementation for testing helpers to something like `_utilities` so we can know they are private helpers, not the unit tests.","createdAt":"2021-02-25T17:38:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/7447#issuecomment-786078156","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDgxMjI2NzY4Ng==","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.","createdAt":"2021-04-02T01:30:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/7447#issuecomment-812267686","viewerDidAuthor":false}],"createdAt":"2021-02-25T02:34:16Z","id":"MDU6SXNzdWU4MTYwMjY2MjE=","labels":[{"id":"MDU6TGFiZWwxMDE2MzQyNTY3","name":"tests","description":"Unit testing for project","color":"204ea3"},{"id":"MDU6TGFiZWwxMTM5NzQwNjY2","name":"libcudf","description":"Affects libcudf (C++/CUDA) code.","color":"c5def5"},{"id":"MDU6TGFiZWwyNTQ2NTIxMDI0","name":"improvement","description":"Improvement / enhancement to an existing function","color":"bfd4f2"}],"milestone":{"number":25,"title":"Helps libcudf C++ integrations","description":"","dueOn":null},"number":7447,"projectCards":[{"project":{"name":"Bug Squashing"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"Inconsistency in cudf directory and file structures","updatedAt":"2024-02-23T18:02:23Z","url":"https://github.com/rapidsai/cudf/issues/7447"}
