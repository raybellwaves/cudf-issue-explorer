{"assignees":[{"id":"MDQ6VXNlcjQ1Nzk1OTkx","login":"davidwendt","name":"David Wendt"}],"author":{"id":"MDQ6VXNlcjc0MTY5MzU=","is_bot":false,"login":"ttnghia","name":"Nghia Truong"},"body":"Currently, we have the `make_null_mask` API returning both null mask and null count:\r\n```\r\ntemplate <typename ValidityIterator>\r\nstd::pair<rmm::device_buffer, cudf::size_type> make_null_mask(ValidityIterator begin,\r\n                                                              ValidityIterator end)\r\n```\r\n\r\nHowever, the `set_null_mask` function can't accept that result. As such, we have to pass the result of `make_null_mask` into `set_null_mask` by two steps:\r\n```\r\nauto [null_mask, null_count] =\r\n    cudf::test::detail::make_null_mask(valid_iter, valid_iter + input.size());\r\n  output.set_null_mask(std::move(null_mask), null_count);\r\n```\r\n\r\nThis is a bit inconvenient. We can do that in just one step like this:\r\n```\r\noutput.set_null_mask(cudf::test::detail::make_null_mask(valid_iter, valid_iter + input.size()));\r\n```\r\n\r\nIn order to do that, we need to have a new overload of `set_null_mask` that accept the return type of `make_null_mask` such as:\r\n```\r\nvoid set_null_mask(std::pair<rmm::device_buffer, cudf::size_type>&&) { ... }\r\n```","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5aHPDK","author":{"login":"ttnghia"},"authorAssociation":"CONTRIBUTOR","body":"CC @davidwendt.","createdAt":"2023-04-17T18:03:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/13154#issuecomment-1511846090","viewerDidAuthor":false}],"createdAt":"2023-04-17T18:03:05Z","id":"I_kwDOBWUGps5jpDr2","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMDEzOTg3MzUy","name":"0 - Backlog","description":"In queue waiting for assignment","color":"d4c5f9"},{"id":"MDU6TGFiZWwxMDE2MzMyOTQ4","name":"good first issue","description":"Good for newcomers","color":"7057ff"},{"id":"MDU6TGFiZWwxMTM5NzQwNjY2","name":"libcudf","description":"Affects libcudf (C++/CUDA) code.","color":"c5def5"}],"milestone":{"number":26,"title":"Helps developer velocity","description":"","dueOn":null},"number":13154,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Add overload for `set_null_mask` that accept result of `make_null_mask` directly","updatedAt":"2023-06-07T20:51:59Z","url":"https://github.com/rapidsai/cudf/issues/13154"}
