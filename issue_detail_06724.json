{"assignees":[{"id":"MDQ6VXNlcjU3NzQ4MjE2","login":"marlenezw","name":"Marlene "}],"author":{"id":"MDQ6VXNlcjU3NzQ4MjE2","is_bot":false,"login":"marlenezw","name":"Marlene "},"body":"**Is your feature request related to a problem? Please describe.**\r\nI'd like for cuDF to support 'defaultdict' like objects in the Series.map method. There is currently a NotImplementedError which contrasts from the Pandas implementation of Series.map\r\n\r\n**Describe the solution you'd like**\r\nAn implementation of Series.map that converts values that are not found in the dict to a default value, if the dict has a default value (e.g. defaultdict).\r\n\r\n**Additional context**\r\nWith Pandas an example of this looks like\r\n```\r\n>>>p1 = pd.Series(['cat', 'dog', np.nan, 'rabbit'])\r\n>>>from collections import defaultdict\r\n>>>t = defaultdict(lambda: 'bird')\r\n>>> t['cat'] = 'kitten'\r\n>>> t['dog'] = 'puppy'\r\n>>> p1.map(t)\r\n0    kitten\r\n1     puppy\r\n2      bird\r\n3      bird\r\ndtype: object\r\n```\r\nWith cuDF currently we get the following\r\n```\r\n>>> s = cudf.Series(['cat', 'dog', np.nan, 'rabbit'])\r\n>>>s.map(t)\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/nfs/mmhangami/marlene/rapids/cudf/python/cudf/cudf/core/series.py\", line 878, in map\r\n    \"default values in dicts are currently not supported.\"\r\nNotImplementedError: default values in dicts are currently not supported.\r\n```\r\n\r\nfor additional context see [pandas.Series.map](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.map.html) and PR #6459\r\n","closed":false,"closedAt":null,"comments":[{"id":"MDEyOklzc3VlQ29tbWVudDc4MDA5MzMxOA==","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been marked rotten due to no recent activity in the past 90d. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.","createdAt":"2021-02-16T20:19:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/6724#issuecomment-780093318","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc4MDA5NDM0Mw==","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been marked stale due to no recent activity in the past 30d. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be marked rotten if there is no activity in the next 60d.","createdAt":"2021-02-16T20:20:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/6724#issuecomment-780094343","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5swn1F","author":{"login":"wence-"},"authorAssociation":"CONTRIBUTOR","body":"Could be implemented by calling `result.fillna(map.__missing__(object))` after merging the results.","createdAt":"2023-11-23T16:20:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/6724#issuecomment-1824685381","viewerDidAuthor":false}],"createdAt":"2020-11-10T11:44:49Z","id":"MDU6SXNzdWU3Mzk4Mzk1MTc=","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":{"number":5,"title":"Pandas API Alignment and Coverage","description":"","dueOn":null},"number":6724,"projectCards":[{"project":{"name":"Feature Planning"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Support objects with default values in Series.map","updatedAt":"2024-02-23T18:42:42Z","url":"https://github.com/rapidsai/cudf/issues/6724"}
