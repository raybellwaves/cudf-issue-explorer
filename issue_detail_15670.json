{"assignees":[],"author":{"id":"MDQ6VXNlcjExNjY0MjU5","is_bot":false,"login":"galipremsagar","name":"GALI PREM SAGAR"},"body":"**Is your feature request related to a problem? Please describe.**\r\nIn `cudf.pandas` we currently move dataframes from CPU to GPU or vice-versa for every step entirely. We can avoid performing transfers all the time by storing the dataframe in both memories and spending time in CPU<->GPU transfers if there are no in-place operations on the frames.\r\n\r\n```python\r\n\r\nIn [1]: %load_ext cudf.pandas\r\n\r\nIn [2]: import pandas as pd\r\n\r\nIn [3]: df = pd.read_parquet(\r\n   ...:     \"nyc_parking_violations_2022.parquet\",\r\n   ...:     columns=[\"Registration State\", \"Violation Description\", \"Vehicle Body Type\", \"Issue Date\", \"Summons Number\"]\r\n   ...: )\r\n\r\nIn [4]: %time df.count(axis=0)\r\nCPU times: user 1.41 ms, sys: 4.35 ms, total: 5.75 ms\r\nWall time: 5.15 ms\r\nOut[4]: \r\nRegistration State       15435607\r\nViolation Description    15435607\r\nVehicle Body Type        15435607\r\nIssue Date               15435607\r\nSummons Number           15435607\r\ndtype: int64\r\n\r\nIn [5]: %time df.count(axis=1)\r\nCPU times: user 15.7 s, sys: 1.85 s, total: 17.5 s\r\nWall time: 16.8 s\r\nOut[5]: \r\n0           5\r\n1           5\r\n2           5\r\n3           5\r\n4           5\r\n           ..\r\n15435602    5\r\n15435603    5\r\n15435604    5\r\n15435605    5\r\n15435606    5\r\nLength: 15435607, dtype: int64\r\n\r\nIn [6]: %time df.count(axis=0)\r\nCPU times: user 24 s, sys: 2.43 s, total: 26.4 s\r\nWall time: 25.3 s\r\nOut[6]: \r\nRegistration State       15435607\r\nViolation Description    15435607\r\nVehicle Body Type        15435607\r\nIssue Date               15435607\r\nSummons Number           15435607\r\ndtype: int64\r\n\r\nIn [7]: %time df.count(axis=0)\r\nCPU times: user 0 ns, sys: 3.08 ms, total: 3.08 ms\r\nWall time: 2.75 ms\r\nOut[7]: \r\nRegistration State       15435607\r\nViolation Description    15435607\r\nVehicle Body Type        15435607\r\nIssue Date               15435607\r\nSummons Number           15435607\r\ndtype: int64\r\n```\r\n\r\nNotice the `df.count(axis=0)` in cell `6` taking quite a bit of time to move from CPU to GPU, we can avoid this.\r\n\r\n**Describe the solution you'd like**\r\nMaintain two identical copies of dataframe - one in GPU, another in CPU.\r\n\r\n","closed":false,"closedAt":null,"comments":[],"createdAt":"2024-05-06T18:50:01Z","id":"I_kwDOBWUGps6H_TkN","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"LA_kwDOBWUGps8AAAABlj4eYg","name":"cudf.pandas","description":"Issues specific to cudf.pandas","color":"984DFB"}],"milestone":{"number":35,"title":"Proxying - cudf.pandas","description":"","dueOn":null},"number":15670,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Make `cudf.pandas` not perform redundant CPU<->GPU transfers if there is no in-place write operations","updatedAt":"2024-05-19T04:04:13Z","url":"https://github.com/rapidsai/cudf/issues/15670"}
