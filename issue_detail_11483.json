{"assignees":[{"id":"MDQ6VXNlcjExNjY0MjU5","login":"galipremsagar","name":"GALI PREM SAGAR"}],"author":{"id":"MDQ6VXNlcjEyNzI1MTEx","is_bot":false,"login":"GregoryKimball","name":"Gregory Kimball"},"body":"**Is your feature request related to a problem? Please describe.**\r\nFuzz testing support for nested struct columns in Orc is incomplete. Some patches were required as shown in #9395 discussion (https://github.com/rapidsai/cudf/issues/9395#issuecomment-1206776202.)\r\n\r\n**Describe the solution you'd like**\r\nAdd support for nested struct columns in the Orc fuzz testing\r\n\r\n**Describe alternatives you've considered**\r\nAdhoc patches that bring side-effects to other fuzzers and unit tests in cuDF.\r\n\r\n**Additional context**\r\nWe would benefit from a way to limit the overall depth of the generated struct columns - I propose maximum nesting depth of 256. Setting `max_structs_nesting_depth` in the `IOFuzz` class does not seem sufficient to address this limit. Here is a traceback for the recursion error:\r\n```\r\n  File \"/home/gregorykimball/Repo/cudf/python/cudf/cudf/testing/dataset_generator.py\", line 387, in rand_dataframe\r\n    structDtype = create_nested_struct_type(\r\n...\r\n  File \"/home/gregorykimball/Repo/rapids-compose/etc/conda/cuda_11.5/envs/rapids/lib/python3.8/site-packages/numpy/core/fromnumeric.py\", line 70, in _wrapreduction\r\n    passkwargs = {k: v for k, v in kwargs.items()\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\n\r\n```\r\n","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5Jsg9J","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.","createdAt":"2022-09-04T20:03:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/11483#issuecomment-1236406089","viewerDidAuthor":false}],"createdAt":"2022-08-05T19:11:48Z","id":"I_kwDOBWUGps5PSt5k","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMTM5NzQwNjY2","name":"libcudf","description":"Affects libcudf (C++/CUDA) code.","color":"c5def5"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"},{"id":"MDU6TGFiZWwxMTg1MjQ0MTQy","name":"cuIO","description":"cuIO issue","color":"fef2c0"}],"milestone":{"number":23,"title":"ORC continuous improvement","description":"","dueOn":null},"number":11483,"projectCards":[],"projectItems":[],"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"OPEN","title":"[FEA] Support nested struct columns in ORC fuzz tests","updatedAt":"2024-02-23T17:59:18Z","url":"https://github.com/rapidsai/cudf/issues/11483"}
