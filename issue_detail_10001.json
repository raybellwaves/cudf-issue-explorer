{"assignees":[{"id":"MDQ6VXNlcjExNjY0MjU5","login":"galipremsagar","name":"GALI PREM SAGAR"}],"author":{"id":"MDQ6VXNlcjExNjY0MjU5","is_bot":false,"login":"galipremsagar","name":"GALI PREM SAGAR"},"body":"cuIO tests are some of the slowest in our test suite because of the sizes of the data and the number of parameters that are tested. Finding ways to make those tests more compact would substantially accelerate running our test suite.","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps48EFk2","author":{"login":"devavret"},"authorAssociation":"CONTRIBUTOR","body":"Many tests need a large dataframe because that will exercise the various chunking types (row-groups/stripes) of the binary formats. \r\n\r\nOne category of notoriously slow tests are parquet list reader because they generate each list manually. We should replace them with smarter generators.","createdAt":"2022-01-07T20:09:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/10001#issuecomment-1007704374","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps48EPeJ","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"Part of what we discussed is wanting to move those types of tests that are validating granular details of kernels into the C++ layer (not just for cuIO, but across all of cuDF). Of course, data generation etc becomes harder for those tests, so I don't think we need to prioritize that move if we can find other ways to speed up the tests for now, but I think we agreed that that would be a good long term goal. CC @shwina ","createdAt":"2022-01-07T21:13:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/10001#issuecomment-1007744905","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps48EQO0","author":{"login":"devavret"},"authorAssociation":"CONTRIBUTOR","body":"The reason you see those tests for cuIO is because most of the time, we need to validate a new feature with pyarrow/pyorc/pandas. To test a new type added to parquet reader e.g. we'd rely on pytests because the ability to write that type is of a lower priority and will come in a later PR. Once we do add it to both the reader and the writer and are able to add gtests, it feels weird to remove them from pytests.","createdAt":"2022-01-07T21:18:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/10001#issuecomment-1007748020","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps48JGC9","author":{"login":"shwina"},"authorAssociation":"CONTRIBUTOR","body":"> Once we do add it to both the reader and the writer and are able to add gtests, it feels weird to remove them from pytests.\r\n\r\nThe pytests should ideally test the correctness of the Python bindings to functionality, and Pandas compatibility, not the correctness/functionality of the underlying libcudf API.\r\n\r\nSince Python tests are being added here as a stop-gap, it seems appropriate to remove them later, no? Currently the long runtimes for some of these tests are a pain point for Python development.\r\n\r\n> Once we do add it to both the reader and the writer and are able to add gtests, it feels weird to remove them from pytests.\r\n\r\nI'm loathed to delete tests as well, and we are proposing that we only do so carefully and deliberately, when Python tests are redundant with existing C++ tests.","createdAt":"2022-01-10T15:53:13Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/10001#issuecomment-1009017021","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps48JoF3","author":{"login":"devavret"},"authorAssociation":"CONTRIBUTOR","body":"> I'm loathed to delete tests as well, and we are proposing that we only do so carefully and deliberately, when Python tests are redundant with existing C++ tests.\r\n\r\nI'm not against this proposal. We're saying the same thing. I'm giving historical context for why some of these exist. I'm pointing out the tests that satisfy your criteria: long runtime, duplicate functionality = list tests.","createdAt":"2022-01-10T17:26:45Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}},{"content":"HEART","users":{"totalCount":1}}],"url":"https://github.com/rapidsai/cudf/issues/10001#issuecomment-1009156471","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps49olk6","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.","createdAt":"2022-02-09T18:07:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/10001#issuecomment-1034049850","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5C6zjJ","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.","createdAt":"2022-05-10T18:08:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/10001#issuecomment-1122711753","viewerDidAuthor":false}],"createdAt":"2022-01-07T19:53:34Z","id":"I_kwDOBWUGps5BXSGp","labels":[{"id":"MDU6TGFiZWwxMTM5NzQwNjY2","name":"libcudf","description":"Affects libcudf (C++/CUDA) code.","color":"c5def5"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"},{"id":"MDU6TGFiZWwxMTg1MjQ0MTQy","name":"cuIO","description":"cuIO issue","color":"fef2c0"}],"milestone":{"number":26,"title":"Helps developer velocity","description":"","dueOn":null},"number":10001,"projectCards":[{"project":{"name":"Feature Planning"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"Reduce runtime of I/O tests","updatedAt":"2023-04-02T22:39:56Z","url":"https://github.com/rapidsai/cudf/issues/10001"}
