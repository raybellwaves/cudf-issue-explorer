{"assignees":[],"author":{"id":"MDQ6VXNlcjUzOTYyMTU5","is_bot":false,"login":"sarahyurick","name":"Sarah Yurick"},"body":"**Describe the bug**\r\nIdeally, we should eventually support `engine=\"cudf\"` and `force_ascii=False` together with `to_json`. For now, we should update the documentation and/or provide a warning for users.\r\n\r\n**Steps/Code to reproduce bug**\r\n```\r\nimport cudf\r\n\r\ndf = cudf.DataFrame({\"a\": [1,2,3], \"b\": [\"4\",\"5\",\"ðŸŒ±\"]})\r\ndf.to_json(\"test.jsonl\", orient=\"records\", lines=True, engine=\"cudf\", force_ascii=False)\r\n```\r\n\r\nproduces a `TypeError: write_json() got an unexpected keyword argument 'force_ascii'`.\r\n\r\nI can do a `df.to_json(\"test.jsonl\", orient=\"records\", lines=True, force_ascii=False)` and see the emoji in the `.jsonl` file, and I can also do a `df.to_json(\"test.jsonl\", orient=\"records\", lines=True, engine=\"cudf\")` and see the emoji represented as \"\\ud83c\\udf31\" in the `.jsonl` file. But I am unable to see the emoji represented as is in the file, while also writing with the cuDF engine.\r\n\r\n**Environment details**\r\nI tested this with the latest cuDF version.\r\n","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps51qc59","author":{"login":"ayushdg"},"authorAssociation":"MEMBER","body":"Adding to this, testing functions like `to_csv` seem to preserve the unicode encoding as-is while `to_json` converts utf-8 chars to the ascii representation before writing. So I'm guessing libcuDF does support directly writing utf-8 (maybe just not within to_json). ","createdAt":"2024-03-01T23:21:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/15211#issuecomment-1974062717","viewerDidAuthor":false}],"createdAt":"2024-03-01T22:06:31Z","id":"I_kwDOBWUGps6BAAHa","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NTk=","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":15211,"projectCards":[],"projectItems":[],"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"OPEN","title":"[BUG] Add support for `force_ascii=False` when writing to JSON with cuDF engine","updatedAt":"2024-03-01T23:21:23Z","url":"https://github.com/rapidsai/cudf/issues/15211"}
