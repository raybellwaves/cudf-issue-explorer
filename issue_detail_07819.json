{"assignees":[],"author":{"id":"MDQ6VXNlcjMzMTE3NQ==","is_bot":false,"login":"magnatelee","name":"Wonchan Lee"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nAs `cudf::hash_partition` now can use a hash function other than Murmur3 or take a custom seed value, I think the tests should be improved for better coverage.\r\n\r\n**Describe the solution you'd like**\r\n\r\nAs described in [this comment](https://github.com/rapidsai/cudf/pull/7771#issuecomment-811692022), two key properties of `cudf::hash_partition` are\r\n\r\n1. Output partitions are disjoint; and\r\n2. Rows having the same key are always assigned the same partition id, even when they appear in different dataframes (when the number of partitions is fixed).\r\n\r\nWe need to check these properties for some combinations of hash function types and seed values. Property 1 is checked in [this Python test](https://github.com/rapidsai/cudf/blob/b9415cae362882380e14b5baa6af49275021356e/python/cudf/cudf/tests/test_dataframe.py#L1106-L1135), but only with the default hash function and seed value, and I believe there are no tests for property 2 yet.\r\n\r\nAdditionally, we should remove [this test](https://github.com/rapidsai/cudf/blob/branch-0.19/python/cudf/cudf/tests/test_dataframe.py#L1181-L1200). The test is comparing a hard-coded value with the result of `hash_partition` for a test input, but this is over-constraining, as `hash_partition` in general has no guarantee on the order in which the keys appear in the output partitions. If we later decide to change the `row_hasher` in any way, this test will start to fail.","closed":false,"closedAt":null,"comments":[{"id":"MDEyOklzc3VlQ29tbWVudDgzMzcyNTE3Ng==","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.","createdAt":"2021-05-06T17:40:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/7819#issuecomment-833725176","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps49geNQ","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.","createdAt":"2022-02-07T21:04:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/7819#issuecomment-1031922512","viewerDidAuthor":false}],"createdAt":"2021-04-01T18:05:31Z","id":"MDU6SXNzdWU4NDg2Nzc5MTM=","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMDE2MzQyNTY3","name":"tests","description":"Unit testing for project","color":"204ea3"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":null,"number":7819,"projectCards":[{"project":{"name":"Feature Planning"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Improve cudf tests for hash_partition","updatedAt":"2024-02-23T18:43:02Z","url":"https://github.com/rapidsai/cudf/issues/7819"}
