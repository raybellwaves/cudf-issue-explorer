{"assignees":[],"author":{"id":"MDQ6VXNlcjMxOTA0MDU=","is_bot":false,"login":"shwina","name":"Ashwin Srinath"},"body":"**What is your question?**\r\nHow should pandas global options interact with cudf.pandas? These can change the behavior/result of pandas operations _without_ changing the call being made.\r\n\r\nFor example, pandas has a `use_inf_as_na` option that makes inf behave like nulls. Should the pandas-path be forced if cudf.pandas detects a global option that isn't supported?\r\n\r\n```python\r\n# with %load_ext cudf.pandas\r\n\r\nIn [3]: ser = pd.Series([np.inf, np.nan])\r\n\r\nIn [4]: ser\r\nOut[4]:\r\n0     Inf\r\n1    <NA>\r\ndtype: float64\r\n\r\n# Incorrect\r\nIn [5]: ser.dropna()\r\nOut[5]:\r\n0    inf\r\ndtype: float64\r\n\r\nIn [6]: pd.options.mode.use_inf_as_na = True\r\n\r\nIn [7]: ser\r\nOut[7]:\r\n0     Inf\r\n1    <NA>\r\ndtype: float64\r\n\r\nIn [8]: ser.dropna()\r\nOut[8]:\r\n0    inf\r\ndtype: float64\r\n\r\n# if we try setting this option in a non-cudf supported way we get a different (incorrect) answer\r\nIn [10]: with pd.option_context(\"use_inf_as_na\", True):\r\n    ...:     print(ser.dropna())\r\n    ...:\r\n0   NaN\r\ndtype: float64\r\n```\r\n\r\nThe pandas result is:\r\n\r\n```\r\n>>> import pandas as pd; import numpy as np\r\n>>> ser = pd.Series([np.inf, np.nan])\r\n>>> pd.options.mode.use_inf_as_na = True\r\n>>> ser.dropna()\r\nSeries([], dtype: float64)\r\n```","closed":false,"closedAt":null,"comments":[],"createdAt":"2023-11-14T13:57:47Z","id":"I_kwDOBWUGps52x7Q7","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjQ=","name":"question","description":"Further information is requested","color":"D4C5F9"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"},{"id":"LA_kwDOBWUGps8AAAABlj4eYg","name":"cudf.pandas","description":"Issues specific to cudf.pandas","color":"984DFB"}],"milestone":{"number":35,"title":"Proxying - cudf.pandas","description":"","dueOn":null},"number":14403,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[QST] Respecting pandas options that affect default behaviors","updatedAt":"2024-05-16T05:09:12Z","url":"https://github.com/rapidsai/cudf/issues/14403"}
