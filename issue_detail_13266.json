{"assignees":[{"id":"MDQ6VXNlcjExMjY5ODE=","login":"wence-","name":"Lawrence Mitchell"}],"author":{"id":"MDQ6VXNlcjExMjY5ODE=","is_bot":false,"login":"wence-","name":"Lawrence Mitchell"},"body":"**Describe the bug**\r\n```python\r\nimport cudf\r\nimport pandas as pd\r\nimport numpy as np\r\ndf = pd.DataFrame(np.arange(4).reshape(2, 2))\r\ncdf = cudf.from_pandas(df)\r\n\r\ndf.iloc[:, [0, 1, 0]]\r\n#    0  1  0\r\n# 0  0  1  0\r\n# 1  2  3  2\r\n\r\ncdf.iloc[:, [0, 1, 0]]\r\n#    0  1\r\n# 0  0  1\r\n# 1  2  3\r\n```\r\n\r\nThis is because `ColumnAccessor.select_by_index` uniquifies input index arguments.\r\n\r\n**Expected behavior**\r\n\r\nThis should match pandas.","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5bRdLO","author":{"login":"wence-"},"authorAssociation":"CONTRIBUTOR","body":"This is probably a consequence of cudf not supporting duplicate column names:\r\n```\r\npd.DataFrame(np.arange(4).reshape(2,2), columns=[\"a\", \"a\"])\r\n#    a  a\r\n# 0  0  1\r\n# 1  2  3\r\ncudf.DataFrame(np.arange(4).reshape(2,2), columns=[\"a\", \"a\"])\r\n#    a\r\n# 0  1\r\n# 1  3\r\n```\r\n\r\nYes, see #13273, the end result will depend on what we do for that case.","createdAt":"2023-05-02T11:25:21Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/13266#issuecomment-1531302606","viewerDidAuthor":false}],"createdAt":"2023-05-02T10:33:16Z","id":"I_kwDOBWUGps5k3Iq8","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NTk=","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"},{"id":"MDU6TGFiZWwyNTQ2NTIxMDI0","name":"improvement","description":"Improvement / enhancement to an existing function","color":"bfd4f2"}],"milestone":{"number":5,"title":"Pandas API Alignment and Coverage","description":"","dueOn":null},"number":13266,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[BUG] DataFrame iloc indexing is incorrect for repeated index entries in the \"columns\" part of the key","updatedAt":"2023-05-02T15:24:46Z","url":"https://github.com/rapidsai/cudf/issues/13266"}
