{"assignees":[],"author":{"id":"MDQ6VXNlcjExMjY1Mw==","is_bot":false,"login":"mattf","name":"Matthew Farrellee"},"body":"**Is your feature request related to a problem? Please describe.**\r\nwriting code with `import cudf as pd`\r\n\r\n**Describe the solution you'd like**\r\nmatching behavior with [`pandas.crosstab`](https://pandas.pydata.org/docs/reference/api/pandas.crosstab.html)\r\n```\r\nIn [1]: import cudf as pd\r\n\r\nIn [2]: pd.__version__\r\nOut[2]: '22.12.00'\r\n\r\nIn [3]: df = pd.DataFrame({\"A\": [\"foo\", \"foo\", \"foo\", \"foo\", \"foo\",\r\n   ...:                          \"bar\", \"bar\", \"bar\", \"bar\"],\r\n   ...:                    \"B\": [\"one\", \"one\", \"one\", \"two\", \"two\",\r\n   ...:                          \"one\", \"one\", \"two\", \"two\"],\r\n   ...:                    \"C\": [\"small\", \"large\", \"large\", \"small\",\r\n   ...:                          \"small\", \"large\", \"small\", \"small\",\r\n   ...:                          \"large\"],\r\n   ...:                    \"D\": [1, 2, 2, 3, 3, 4, 5, 6, 7],\r\n   ...:                    \"E\": [2, 4, 5, 5, 6, 6, 8, 9, 9]})\r\n\r\nIn [4]: pd.crosstab(df.A, df.B, margins=True)\r\n---------------------------------------------------------------------------\r\nNotImplementedError                       Traceback (most recent call last)\r\nCell In[4], line 1\r\n----> 1 pd.crosstab(df.A, df.B, margins=True)\r\n\r\nFile /usr/local/lib/python3.8/dist-packages/cudf/core/reshape.py:1296, in crosstab(index, columns, values, rownames, colnames, aggfunc, margins, margins_name, dropna, normalize)\r\n   1293     df[\"__dummy__\"] = values\r\n   1294     kwargs = {\"aggfunc\": aggfunc}\r\n-> 1296 table = pivot_table(\r\n   1297     data=df,\r\n   1298     index=rownames,\r\n   1299     columns=colnames,\r\n   1300     values=\"__dummy__\",\r\n   1301     margins=margins,\r\n   1302     margins_name=margins_name,\r\n   1303     dropna=dropna,\r\n   1304     **kwargs,\r\n   1305 )\r\n   1307 return table\r\n\r\nFile /usr/local/lib/python3.8/dist-packages/cudf/core/reshape.py:1352, in pivot_table(data, values, index, columns, aggfunc, fill_value, margins, dropna, margins_name, observed, sort)\r\n   1323 \"\"\"\r\n   1324 Create a spreadsheet-style pivot table as a DataFrame.\r\n   1325 \r\n   (...)\r\n   1349     An Excel style pivot table.\r\n   1350 \"\"\"\r\n   1351 if margins is not False:\r\n-> 1352     raise NotImplementedError(\"margins is not supported yet\")\r\n   1354 if margins_name != \"All\":\r\n   1355     raise NotImplementedError(\"margins_name is not supported yet\")\r\n\r\nNotImplementedError: margins is not supported yet\r\n```","closed":false,"closedAt":null,"comments":[],"createdAt":"2023-01-18T14:51:08Z","id":"I_kwDOBWUGps5brgZ4","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMDEzOTg3MzUy","name":"0 - Backlog","description":"In queue waiting for assignment","color":"d4c5f9"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":{"number":5,"title":"Pandas API Alignment and Coverage","description":"","dueOn":null},"number":12563,"projectCards":[{"project":{"name":"Feature Planning"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] cudf.crosstab support for margins parameter","updatedAt":"2023-06-06T03:11:40Z","url":"https://github.com/rapidsai/cudf/issues/12563"}
