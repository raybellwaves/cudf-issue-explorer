{"assignees":[],"author":{"id":"MDQ6VXNlcjM5NDM3NjE=","is_bot":false,"login":"bdice","name":"Bradley Dice"},"body":"The [`describe` implementations](https://github.com/rapidsai/cudf/blob/b3b299ae22f31adb8f380d7add1ce2bdb726ab26/python/cudf/cudf/core/series.py#L3317-L3423), especially for datetime and timedelta types, appear to be casting all the values to `str` (aside from the numeric implementation). This does not align with Pandas behavior:\r\n```python\r\n>>> s = pd.Series([\r\n...   np.datetime64(\"2000-01-01\"),\r\n...   np.datetime64(\"2010-01-01\"),\r\n...   np.datetime64(\"2010-01-01\"),\r\n... ])\r\n>>> print(type(s.describe()[\"top\"]))\r\n<class 'pandas._libs.tslibs.timestamps.Timestamp'>\r\n```\r\n\r\nI recognize there is an issue here with different types, namely that `count` and `freq` are not of the same type as `mean`, `min`, percentiles, or `max`. This also affects numerical columns which will upcast integer values like `count` to floating types.\r\n\r\nSome options to resolve this (and their downsides):\r\n1. Current implementation: return all values as `str` (results are on GPU ...but data is not usable as `str` type).\r\n2. Return a `pd.DataFrame` or `dict` that can have multiple types (not a GPU DataFrame).\r\n\r\nI propose changing behavior to adopt option (2), and return a `pd.DataFrame`. The summary doesn't really need to be a GPU DataFrame since it contains so few values. (Do we have precedent for this kind of behavior returning a CPU (Pandas) DataFrame?)\r\n\r\n_Originally posted by @bdice in https://github.com/rapidsai/cudf/pull/9867#discussion_r768149355_","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps47PQN7","author":{"login":"bdice"},"authorAssociation":"CONTRIBUTOR","body":"Quoting @vyasr from https://github.com/rapidsai/cudf/pull/9867#discussion_r768192180:\r\n\r\n> I agree that a copy to host that preserves more type information is probably preferable. I'm not aware of any API that returns a pandas DataFrame, but we do return pandas objects in some places. One example is DataFrame.columns, which returns a pandas Index, probably based on the same consideration of not wanting to put the data on device. Personally from an API design perspective I would prefer not to return pandas objects and would rather return something like a dict, but I can see that causing more friction for users switching between pandas and cudf.","createdAt":"2021-12-14T18:20:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9900#issuecomment-993854331","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps48WFl1","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.","createdAt":"2022-01-13T19:02:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9900#issuecomment-1012423029","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5BeAYP","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.","createdAt":"2022-04-13T19:02:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9900#issuecomment-1098384911","viewerDidAuthor":false}],"createdAt":"2021-12-14T18:19:52Z","id":"I_kwDOBWUGps5AYKY_","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NTk=","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":null,"number":9900,"projectCards":[{"project":{"name":"Bug Squashing"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"`describe` casts all values to `str` for several types","updatedAt":"2024-02-23T18:42:25Z","url":"https://github.com/rapidsai/cudf/issues/9900"}
