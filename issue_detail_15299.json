{"assignees":[],"author":{"id":"MDQ6VXNlcjE1MzgxNjU=","is_bot":false,"login":"vyasr","name":"Vyas Ramasubramani"},"body":"**Is your feature request related to a problem? Please describe.**\nCurrently most pylibcudf object attributes are accessed via nullary getter methods that return attributes. The main reason for this is that it allows typing of these functions for convenience in Cython, but also because there is a small performance penalty associated with both the loss of typing and the use of a `def` function to make it a property. However, the tradeoff is that it results in unpythonic code when actually using pylibcudf, e.g. you have to do write things like `table.columns()[i]` instead of `table.columns[i]`. The tradeoff is almost certainly not worthwhile, especially since from a performance perspective the two should be nearly equivalent since Cython should handle properties fairly intelligently for us up to the actual function call. Note that for setters there would be some additional overhead for unboxing the value, but that's not relevant since essentially all properties in pylibcudf will be getters only.\n\n**Describe the solution you'd like**\nWe should replace the getters with properties where appropriate.\n\nIf we are concerned with the performance difference in Cython, the other alternative would be to expose these members directly as `readonly` attributes. That would have the same effect in Python as making them properties with only setters, not getters. In Cython the attributes would still be freely writeable, but that is already true and the only \"protection\" we would be losing is the naming convention of an underscore indicating an internal value.","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps54IXUp","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"To make the performance question a bit more concrete, here is a microbenchmark:\n```\nIn [4]: %%cython\n   ...: cdef int its = 1_000_000\n   ...: cdef class A:\n   ...:     cdef int f(self):\n   ...:         return 1\n   ...:     @property                                                                                 \n   ...:     def g(self):\n   ...:         return 1\n   ...:     def test_f(self):   \n   ...:         cdef int i\n   ...:         for i in range(its):\n   ...:             self.f()\n   ...:     def test_g(self):\n   ...:         cdef int i   \n   ...:         for i in range(its):\n   ...:             self.g   \n   ...:                   \n                                                   \nIn [5]: %%timeit a = A()\n   ...: a.test_f()          \n   ...:                                                                                               \n   ...: \n26.2 ms _ 13.2 _s per loop (mean _ std. dev. of 7 runs, 10 loops each)\n                                                   \nIn [6]: %%timeit a = A()\n   ...: a.test_g()\n   ...:      \n   ...: \n53.7 ms _ 38.4 _s per loop (mean _ std. dev. of 7 runs, 10 loops each)\n```","createdAt":"2024-03-22T16:27:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/15299#issuecomment-2015458601","viewerDidAuthor":false}],"createdAt":"2024-03-14T01:09:13Z","id":"I_kwDOBWUGps6CP0EE","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"LA_kwDOBWUGps8AAAABoeP23w","name":"pylibcudf","description":"Issues specific to the pylibcudf package","color":"e99695"}],"milestone":null,"number":15299,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Convert attribute access of pylibcudf objects from getters to properties","updatedAt":"2024-05-28T23:33:47Z","url":"https://github.com/rapidsai/cudf/issues/15299"}
