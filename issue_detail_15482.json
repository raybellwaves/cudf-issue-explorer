{"assignees":[],"author":{"id":"MDQ6VXNlcjMxOTA0MDU=","is_bot":false,"login":"shwina","name":"Ashwin Srinath"},"body":"This is a bit different from https://github.com/rapidsai/cudf/issues/14499.\r\n\r\nThe `cudf.pandas` profiler only shows the time it takes for pandas functions and methods to run; but it doesn't report the time it takes for other functions and methods. It would be useful if the total time reported by the profiler matched up roughly with the actual total wall clock time of the program.\r\n\r\nFor example:\r\n\r\n```\r\nIn [1]: %load_ext cudf.pandas\r\n\r\nIn [2]: import pandas as pd\r\n\r\nIn [3]: import time\r\n\r\nIn [4]: def fun1():\r\n   ...:     time.sleep(5)\r\n   ...:\r\n\r\nIn [5]: def fun2():\r\n   ...:     s = pd.Series([1, 2, 3])\r\n   ...:     s.max()\r\n   ...:     s.min()\r\n   ...:\r\n\r\nIn [6]: %%cudf.pandas.profile\r\n   ...: fun1()\r\n   ...: fun2()\r\n   ...:\r\n   ...:\r\n\r\n                                   Total time elapsed: 6.345 seconds\r\n                                 3 GPU function calls in 1.090 seconds\r\n                                 0 CPU function calls in 0.000 seconds\r\n\r\n                                                 Stats\r\n\r\n┏━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓\r\n┃ Function   ┃ GPU ncalls ┃ GPU cumtime ┃ GPU percall ┃ CPU ncalls ┃ CPU cumtime ┃ CPU percall ┃\r\n┡━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩\r\n│ Series     │ 1          │ 1.088       │ 1.088       │ 0          │ 0.000       │ 0.000       │\r\n│ Series.max │ 1          │ 0.001       │ 0.001       │ 0          │ 0.000       │ 0.000       │\r\n│ Series.min │ 1          │ 0.001       │ 0.001       │ 0          │ 0.000       │ 0.000       │\r\n└────────────┴────────────┴─────────────┴─────────────┴────────────┴─────────────┴─────────────┘\r\n``` \r\n\r\nIt would be great if the result was something like:\r\n\r\n```\r\n                                   Total time elapsed: 6.345 seconds\r\n                                 3 GPU function calls in 1.090 seconds\r\n                                 0 CPU function calls in 0.000 seconds\r\n\r\n                                                 Stats\r\n\r\n┏━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓\r\n┃ Function   ┃ GPU ncalls ┃ GPU cumtime ┃ GPU percall ┃ CPU ncalls ┃ CPU cumtime ┃ CPU percall ┃\r\n┡━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩\r\n│ Series     │ 1          │ 1.088       │ 1.088       │ 0          │ 0.000       │ 0.000       │\r\n│ Series.max │ 1          │ 0.001       │ 0.001       │ 0          │ 0.000       │ 0.000       │\r\n│ Series.min │ 1          │ 0.001       │ 0.001       │ 0          │ 0.000       │ 0.000       │\r\n│ Others     │ -          │ -           │ -           │ -          │ 5.000       │ 5.000       │\r\n└────────────┴────────────┴─────────────┴─────────────┴────────────┴─────────────┴─────────────┘\r\n```","closed":false,"closedAt":null,"comments":[],"createdAt":"2024-04-08T13:17:03Z","id":"I_kwDOBWUGps6E_XOl","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"LA_kwDOBWUGps8AAAABlj4eYg","name":"cudf.pandas","description":"Issues specific to cudf.pandas","color":"984DFB"}],"milestone":{"number":33,"title":"Profiler - cudf.pandas","description":"Tasks related to improving cudf.pandas profiler.","dueOn":null},"number":15482,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] cudf.pandas profiler should show time taken by other, non-pandas functions to run.","updatedAt":"2024-04-15T14:33:34Z","url":"https://github.com/rapidsai/cudf/issues/15482"}
