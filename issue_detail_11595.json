{"assignees":[{"id":"MDQ6VXNlcjUzNzk2MDk5","login":"brandon-b-miller","name":""}],"author":{"id":"MDQ6VXNlcjUzNzk2MDk5","is_bot":false,"login":"brandon-b-miller","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nDuring discussion in https://github.com/rapidsai/cudf/pull/11578 we realized that users might try and pass several commonly used python functions that don't necessarily have bytecode directly to `Series.apply`. For instance, using `float` dispatches to a C-level `__init__` method and thus has no bytecode for numba to build a function out of. \r\n\r\n**Describe the solution you'd like**\r\nIt would be nice if this worked:\r\n```python\r\ncudf.Series([1,2,3]).apply(float)\r\n# [1.0, 2.0, 3.0]\r\n```\r\nWe should be able to use \r\n- int\r\n- float\r\n- bool\r\n\r\nWe could also add:\r\n- Numpy dtypes\r\n- string?\r\n\r\n\r\n**Describe alternatives you've considered**\r\nUsers should just call `astype` but this seems like plausible usage. \r\n\r\n**Additional context**\r\nCame up during https://github.com/rapidsai/cudf/pull/11578#pullrequestreview-1082926062","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5JLtRw","author":{"login":"bdice"},"authorAssociation":"CONTRIBUTOR","body":"This isn't really about `float`, or casting at all. It's about _any_ Python builtin or function (with C implementation) that doesn't have a `__code__` attribute.","createdAt":"2022-08-25T22:04:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/11595#issuecomment-1227805808","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5J0AMw","author":{"login":"bdice"},"authorAssociation":"CONTRIBUTOR","body":"A similar issue arose in https://github.com/rapidsai/cudf/pull/11319#discussion_r963912420:\r\n\r\n> Can you add a test using len directly? Or is a `__code__` attribute required as noted in https://github.com/rapidsai/cudf/issues/11595?\r\n> ```python\r\n> run_udf_test(data, len, \"int64\")\r\n> ```\r\n\r\n> Right - we'd need some separate handling for this. Adding the test yields\r\n> ```python\r\n> AttributeError: 'builtin_function_or_method' object has no attribute '__defaults__'\r\n> ```","createdAt":"2022-09-06T16:18:36Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/11595#issuecomment-1238369072","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5LuSoM","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.","createdAt":"2022-10-06T17:12:21Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/11595#issuecomment-1270426124","viewerDidAuthor":false}],"createdAt":"2022-08-25T14:38:33Z","id":"I_kwDOBWUGps5Qhr3R","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMDE2MzIwNzI3","name":"numba","description":"Numba issue","color":"9c2cdd"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":null,"number":11595,"projectCards":[{"project":{"name":"Feature Planning"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Handle selected functions that don't have bytecode in `Series.apply`","updatedAt":"2023-06-20T14:42:24Z","url":"https://github.com/rapidsai/cudf/issues/11595"}
