{"assignees":[],"author":{"id":"MDQ6VXNlcjM5NDM3NjE=","is_bot":false,"login":"bdice","name":"Bradley Dice"},"body":"**Describe the bug**\r\nWhen running the following Python script, it seems that the NVTX ranges aren't being closed. See screenshot below.\r\n\r\n```python\r\nimport cudf\r\nfrom cudf.testing._utils import assert_eq\r\n\r\nif __name__ == \"__main__\":\r\n    for i in range(3):\r\n        gdf = cudf.DataFrame({\"a\": range(10)})\r\n        pdf = gdf.to_pandas()\r\n        assert_eq(gdf, pdf)\r\n```\r\n\r\nThen execute `nsys profile python nvtx_bug.py`.\r\n\r\n![image](https://github.com/rapidsai/cudf/assets/3943761/750120c7-b800-4b8d-9af7-174adc93f7f6)\r\n\r\nI didn't see this problem with `cudf.Series`, only `cudf.DataFrame`.\r\n","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps5iJha4","author":{"login":"GregoryKimball"},"authorAssociation":"CONTRIBUTOR","body":"Thank you @bdice for raising this. I have noticed it frequently in profiles and I'm glad you created an issue for it.","createdAt":"2023-07-22T20:12:45Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/13487#issuecomment-1646663352","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5iJuyk","author":{"login":"bdice"},"authorAssociation":"CONTRIBUTOR","body":"@GregoryKimball I tried to dig into this but couldn’t quite identify the root cause. Is it specific to these column getter methods? Only when NVTX ranges reach a certain depth? If you have any insight or patterns you’ve seen, please share.","createdAt":"2023-07-23T01:31:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/13487#issuecomment-1646718116","viewerDidAuthor":false}],"createdAt":"2023-06-01T13:35:57Z","id":"I_kwDOBWUGps5nfo52","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NTk=","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwxMDEzOTg3MzUy","name":"0 - Backlog","description":"In queue waiting for assignment","color":"d4c5f9"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":{"number":26,"title":"Helps developer velocity","description":"","dueOn":null},"number":13487,"projectCards":[],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[BUG] NVTX ranges not being closed in Frame._get_columns_by_label?","updatedAt":"2023-07-23T01:31:36Z","url":"https://github.com/rapidsai/cudf/issues/13487"}
