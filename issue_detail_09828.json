{"assignees":[],"author":{"id":"MDQ6VXNlcjM5NDM3NjE=","is_bot":false,"login":"bdice","name":"Bradley Dice"},"body":"**Is your feature request related to a problem? Please describe.**\r\nDoctests (#9815) show the following doctest failing:\r\nhttps://github.com/rapidsai/cudf/blob/582cc6e466c7d941e1b34893fd56fbd42fe90d68/python/cudf/cudf/core/series.py#L1783-L1793\r\n\r\n**Describe the solution you'd like**\r\nFrom a preliminary discussion with @vyasr, we probably want to deprecate and remove `as_mask` from the public API.\r\n\r\nIn the short term, I am removing the doctests for `Series.as_mask().to_host_array()` in #9815 (f881890a2da5e139358e3d2f531d663853b53748) because it's somewhat untestable and not helpful to demonstrate to users if we deprecate and remove the feature. It appears that the buffer has a size of 64 bytes. I assume that's the smallest allocation RMM can give, but that's not obvious to users who look at the output data of the doctest. Furthermore, the doctest shows uninitialized (garbage) data in the output of `to_host_array()` which is misleading.","closed":false,"closedAt":null,"comments":[{"id":"IC_kwDOBWUGps46w6zG","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"I think along with this we should think about what mask-related APIs we really should be exposing at the Python layer. For instance, should the `null_mask` or `nullable` properties even be accessible, or are they implementation details? `Series.set_mask` is already deprecated. Are there any public APIs where a bitmask is a reasonable expectation, or should all public APIs involving masks operate on boolean masks even if that is less performant (that's my opinion, IMO all bitmask operations should be exclusively internal, but perhaps there's a strong performance need to expose those).","createdAt":"2021-12-03T23:10:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/rapidsai/cudf/issues/9828#issuecomment-985902278","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps47jWQJ","author":{"login":"bdice"},"authorAssociation":"CONTRIBUTOR","body":"I agree that many (all?) properties dealing with bitmasks could be considered implementation details for the Python API. The APIs I'm looking at are:\r\n- `Series.nullmask`\r\n- `Series.nullable`\r\n- ~`Series.as_mask`~ (removed in #10124)\r\n- ~`Series.set_mask`~ (removed in #10124)\r\n- `Series.from_masked_array`.\r\n\r\n(edit: updated status of APIs)","createdAt":"2021-12-21T22:00:57Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9828#issuecomment-999121929","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps48rX1X","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.","createdAt":"2022-01-20T23:02:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9828#issuecomment-1018002775","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5Fwpbs","author":{"login":"github-actions"},"authorAssociation":"NONE","body":"This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.","createdAt":"2022-06-29T19:03:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9828#issuecomment-1170380524","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps5MuDPQ","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"@shwina are you aware of any issues with proceeding here? @bdice's [last comment](https://github.com/rapidsai/cudf/issues/9828#issuecomment-999121929) shows what APIs still need to be updated.","createdAt":"2022-10-21T15:43:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9828#issuecomment-1287140304","viewerDidAuthor":false},{"id":"IC_kwDOBWUGps59tOBM","author":{"login":"vyasr"},"authorAssociation":"CONTRIBUTOR","body":"The comment above is still accurate. I think we can go ahead and remove these.","createdAt":"2024-05-13T23:42:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/rapidsai/cudf/issues/9828#issuecomment-2109005900","viewerDidAuthor":false}],"createdAt":"2021-12-02T21:33:01Z","id":"I_kwDOBWUGps4_xujw","labels":[{"id":"MDU6TGFiZWw1OTk2MjY1NjE=","name":"feature request","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxMDE2MzMyOTQ4","name":"good first issue","description":"Good for newcomers","color":"7057ff"},{"id":"MDU6TGFiZWwxMTM5NzQxMjEz","name":"cuDF (Python)","description":"Affects Python cuDF API.","color":"1d76db"}],"milestone":null,"number":9828,"projectCards":[{"project":{"name":"Feature Planning"},"column":{"name":"Needs prioritizing"}}],"projectItems":[],"reactionGroups":[],"state":"OPEN","title":"[FEA] Deprecate Series.as_mask","updatedAt":"2024-05-16T05:03:46Z","url":"https://github.com/rapidsai/cudf/issues/9828"}
